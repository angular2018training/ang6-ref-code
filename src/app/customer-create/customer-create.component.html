<div fxFill fxLayout="column">
  <mat-tab-group class="custom-tab" [(selectedIndex)]="selectedTabIndex">
    <mat-tab label="Customer Info">
      <div class="full-h" fxLayout="column" *ngIf="selectedTabIndex === 0">
        <div>
          <div fxLayout="row" class="m-t-10 m-b-5">
            <fieldset fxFlex class="">
              <legend>Customer Information</legend>
              <div fxLayout="column" class="fieldset-content">
                <div>
                  <mat-form-field floatPlaceholder="always">
                    <input matInput required placeholder="Customer Name" [(ngModel)]="customerName" [maxlength]="inputMaxLength">
                    <mat-error>{{required}}</mat-error>
                  </mat-form-field>
                </div>
                <div fxLayout="row">
                  <div fxFlex>
                    <mat-form-field floatPlaceholder="always">
                      <mat-select placeholder="Country" [(ngModel)]="selectedCountry" (change)="changeCountry($event)">
                        <mat-option [value]="-1">
                          -- Select an option --
                        </mat-option>
                        <mat-option *ngFor="let country of countries" [value]="country.id">
                          {{country.countryName}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div fxFlex class="m-l-20">
                    <mat-form-field floatPlaceholder="always">
                      <mat-select placeholder="Province" [(ngModel)]="selectedProvince" (change)="changeProvince($event)">
                        <mat-option [value]="-1">
                          -- Select an option --
                        </mat-option>
                        <mat-option *ngFor="let province of provinces" [value]="province.id">
                          {{ province.provinceName }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>

                <div>
                  <mat-form-field floatPlaceholder="always">
                    <input matInput placeholder="Address" [(ngModel)]="address" [maxlength]="inputMaxLength">
                  </mat-form-field>
                </div>
                <div fxLayout="row">
                  <div fxFlex>
                    <mat-form-field floatPlaceholder="always">
                      <input matInput required placeholder="Email" [(ngModel)]="email" class="operator_detail_email" [maxlength]="inputMaxEmail">
                      <mat-error>{{required}}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <phone-number [(ngModel)]="phoneNumber"></phone-number>
                <div>
                  <mat-form-field floatPlaceholder="always">
                    <mat-select required placeholder="Time Zone" [(ngModel)]="selectedTimeZone">
                      <mat-option [value]="-1">
                          -- Select an option --
                      </mat-option>
                      <mat-option *ngFor="let timeZone of timeZones" [value]="timeZone.id">
                        {{ timeZone.timeZoneName + ' (' + timeZone.timeZoneAbbrev + '/' + timeZone.timeZoneUtcOffset + ')'}}
                      </mat-option>
                    </mat-select>
                    <mat-error>{{required}}</mat-error>
                  </mat-form-field>
                </div>
              </div>
            </fieldset>
            <fieldset fxFlex class="m-l-20">
              <legend>Login Detail</legend>
              <div fxLayout="column" class="fieldset-content">
                <div>
                  <mat-form-field floatPlaceholder="always">
                    <input required matInput placeholder="Username" type="text" [(ngModel)]="userName" [maxlength]="inputMaxUserName">
                    <mat-error>{{required}}</mat-error>
                  </mat-form-field>
                </div>
                <div>
                  <mat-form-field floatPlaceholder="always">
                    <input required matInput placeholder="Password" type="password" [(ngModel)]="password" [maxlength]="inputMaxPass">
                    <mat-error>{{required}}</mat-error>
                  </mat-form-field>
                </div>
                <div>
                  <mat-form-field floatPlaceholder="always">
                    <input required matInput placeholder="Confirm Password" type="password" [(ngModel)]="confirmPassword" [maxlength]="inputMaxPass">
                    <mat-error>{{required}}</mat-error>
                  </mat-form-field>
                </div>
              </div>
            </fieldset>
          </div>
          <div fxLayout="row" fxLayoutAlign="end center" class="m-y-5 full-w">
            <button [routerLink]="'/customer-management/customer-list'" class="red-btn m-l-20" type="button" mat-button> Cancel </button>
            <button [disabled]="checkMissingField()" (click)="saveCustomer()" class="red-btn m-l-20" type="button" mat-button> Save </button>
          </div>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Chiller Plants" [disabled]="!isCreated">
      <div class="full-h" *ngIf="selectedTabIndex === 1">
        <app-chiller-plants></app-chiller-plants>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>